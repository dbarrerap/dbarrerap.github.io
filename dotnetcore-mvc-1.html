<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <title>Coding Overload.NET Core - Aplicacion MVC Basica</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
        <meta name="description" content="Una guia para la creacion de una aplicacion web usando .NET Core/EF y SQLite." />
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-secondary bg-gradient mb-3">
        <div class="container">
            <a href="/" class="navbar-brand">Coding Overload</a>
            <span class="navbar-text">Pushing buttons until it works...</span>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarMenu">
                <ul class="navbar-nav">
<li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" id="navbarCategorias" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Categorias
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarCategorias">
                            <li><a href="/category/programming.html" class="dropdown-item">Programming</a></li>
                        </ul>
                    </li>
<li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" id="navbarCategorias" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Social
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarCategorias">
                            <li>
                                <a href="https://instagram.com/dbarrera.dev" class="dropdown-item">
                                    <i class="bi bi-instagram"></i> Instagram
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/dbarrerap" class="dropdown-item">
                                    <i class="bi bi-github"></i> Github
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container pb-5">
<header class="mt-5 mb-3">
    <h1>.NET Core - Aplicacion MVC Basica</h1>
<div class="alert alert-secondary text-muted">
    Publicado: 2021/08/18
    <br>Autores: David E. Barrera</div></header>
<p>En esta pequeña guia, vamos a crear una pequeña aplicacion web usando la arquitectura MVC en ASP.NET Core,
en particular un blog. Tutorial basico. Esta guia puede ser seguida en todos los sistemas operativos, 
con ciertas variaciones, asi que ajustar de acuerdo a la necesidad. </p>
<p>Las herramientas a utilizar en este tutorial son:</p>
<ul>
<li>.NET 5 / Core 3.1</li>
<li>Visual Studio Code</li>
<li>SQLite Explorer</li>
</ul>
<h2>Configuracion de Estacion de Trabajo</h2>
<h3>Instalacion .NET Core</h3>
<p>Lo primero que debemos hacer es instalar el SDK de .NET Core para el desarrollo de aplicaciones. Para esto,
vamos a <a href="https://dotnet.microsoft.com/download">este enlace</a> y descargamos el apropiado para nuestro equipo.
Puedes descargar .NET 5 o .Net Core 3.1, cualquiera de los dos funciona.</p>
<p>Para confirmar que se haya instalado correctamente, abrimos una ventana de PowerShell o Simbolo de Sistema y
escribimos:</p>
<div class="highlight"><pre><span></span><code><span class="p">&gt;</span> <span class="n">dotnet</span>
</code></pre></div>

<p>Deberiamos ver algo similar a esto:</p>
<div class="row"><div class="col-md-4 offset-md-4">
<img src="https://www.tutorialsteacher.com/Content/images/core/dotnet-cli.png" class="img-fluid">
</div></div>

<h3>Instalacion Visual Studio Code</h3>
<p>Seguimos con nuestro editor de codigo, para poder desarrollar aplicaciones y lo vamos a configurar para
que funcione con el lenguaje por defecto, que es C#. Vamos a <a href="https://code.visualstudio.com/download">este enlace</a>
y descargamos el apropiado para nuestro equipo. Para instalar <a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp">la extension</a>, revisa la <a href="https://code.visualstudio.com/docs/editor/extension-marketplace">documentacion</a>.</p>
<h3>Instalacion SQLite Explorer</h3>
<p>Finalmente instalamos esta herramienta que nos permitira visualizar los datos que guardemos en la base de prueba.
La podemos descargar de <a href="https://sqlitebrowser.org/dl/">aqui</a>.</p>
<h2>Nuestra primera aplicacion ASP.NET MVC</h2>
<p>.NET Core viene con plantillas para cada una de las posibles aplicaciones que deseemos realizar, desde aplicaciones
de consola hasta aplicaciones web. Para esto, en una ventana de comandos escribimos:</p>
<div class="highlight"><pre><span></span><code><span class="p">&gt;</span> <span class="n">dotnet</span> <span class="n">new</span> <span class="n">mvc</span> <span class="n">-o</span> <span class="n">MiAplicacionWeb</span>
</code></pre></div>

<p>Esto creara una carpeta <em>MiAplicacionWeb</em> donde se encontraran todos los archivos de nuestro proyecto,
ya iremos viendolos a medida que avancemos. Probemos que todo este bien, escribimos:</p>
<div class="highlight"><pre><span></span><code><span class="p">&gt;</span> <span class="nb">cd </span><span class="n">MiAplicacionWeb</span>
<span class="p">&gt;</span> <span class="n">dotnet</span> <span class="n">run</span>
</code></pre></div>

<p>Este ultimo comando construira toda la aplicacion y ejecutara un servidor de pruebas para poder visualizar
nuestra aplicacion web en la direccion https://localhost:5000. Presionamos Ctrl+C para terminarlo.</p>
<h2>Crear el Modelo</h2>
<p>El modelo es un archivo clase que modela los datos a ser almacenados. Tambien puede ser visto como el maquetado
de las tablas que se almacenaran en la base de datos. Vamos a crear 3 tablas/modelos: <em>Post</em>, <em>Comment</em> y <em>User</em>.
Para esto, creamos los archivos en la carpeta <strong>Models</strong> con los nombres <em>Post.cs</em>, <em>Comment.cs</em> y <em>User.cs</em>.</p>
<div class="highlight"><pre><span></span><code><span class="o">//</span> <span class="nt">Post</span><span class="p">.</span><span class="nc">cs</span>
<span class="nt">using</span> <span class="nt">System</span><span class="o">;</span>
<span class="nt">using</span> <span class="nt">System</span><span class="p">.</span><span class="nc">Collections</span><span class="p">.</span><span class="nc">Generic</span><span class="o">;</span>
<span class="nt">using</span> <span class="nt">System</span><span class="p">.</span><span class="nc">ComponentModel</span><span class="p">.</span><span class="nc">DataAnnotations</span><span class="o">;</span>

<span class="nt">namespace</span> <span class="nt">MiAplicacionWeb</span><span class="p">.</span><span class="nc">Models</span>
<span class="p">{</span>
    <span class="err">public</span> <span class="err">class</span> <span class="err">Post</span>
    <span class="err">{</span>
        <span class="err">//</span> <span class="err">Properties</span>
        <span class="err">public</span> <span class="err">int</span> <span class="err">ID</span> <span class="err">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="nt">public</span> <span class="nt">string</span> <span class="nt">Titulo</span> <span class="p">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="nt">public</span> <span class="nt">string</span> <span class="nt">Contenido</span> <span class="p">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="cp">[</span><span class="nx">DataType</span><span class="p">(</span><span class="nx">DataType.Date</span><span class="p">)</span><span class="cp">]</span>
        <span class="cp">[</span><span class="nx">DisplayFormat</span><span class="p">(</span><span class="n">DataFormatString</span><span class="o"> =</span> <span class="s2">&quot;{0:yyyy-MM-dd}&quot;</span><span class="p">,</span> <span class="n">ApplyFormatInEditMode</span><span class="o"> =</span> <span class="kc">true</span><span class="p">)</span><span class="cp">]</span>
        <span class="nt">public</span> <span class="nt">DateTime</span> <span class="nt">Fecha</span> <span class="p">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="o">//</span> <span class="nt">Navigation</span> <span class="nt">Properties</span>
        <span class="nt">public</span> <span class="nt">User</span> <span class="nt">User</span> <span class="p">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="nt">public</span> <span class="nt">ICollection</span><span class="o">&lt;</span><span class="nt">Comment</span><span class="o">&gt;</span> <span class="nt">Comments</span> <span class="p">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="err">}</span>
<span class="err">}</span>

<span class="o">//</span> <span class="nt">Comment</span><span class="p">.</span><span class="nc">cs</span>
<span class="nt">namespace</span> <span class="nt">MiAplicacionWeb</span><span class="p">.</span><span class="nc">Models</span>
<span class="p">{</span>
    <span class="err">public</span> <span class="err">class</span> <span class="err">Comment</span>
    <span class="err">{</span>
        <span class="err">//</span> <span class="err">Properties</span>
        <span class="err">public</span> <span class="err">int</span> <span class="err">ID</span> <span class="err">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="nt">public</span> <span class="nt">string</span> <span class="nt">Lector</span> <span class="p">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="nt">public</span> <span class="nt">string</span> <span class="nt">Contenido</span> <span class="p">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="o">//</span> <span class="nt">Navigation</span> <span class="nt">Properties</span>
        <span class="nt">public</span> <span class="nt">Post</span> <span class="nt">Post</span> <span class="p">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="err">}</span>
<span class="err">}</span>

<span class="o">//</span> <span class="nt">User</span><span class="p">.</span><span class="nc">cs</span>
<span class="nt">using</span> <span class="nt">System</span><span class="p">.</span><span class="nc">Collections</span><span class="p">.</span><span class="nc">Generic</span><span class="o">;</span>

<span class="nt">namespace</span> <span class="nt">MiAplicacionWeb</span><span class="p">.</span><span class="nc">Models</span>
<span class="p">{</span>
    <span class="err">public</span> <span class="err">class</span> <span class="err">User</span>
    <span class="err">{</span>
        <span class="err">//</span> <span class="err">Properties</span>
        <span class="err">public</span> <span class="err">int</span> <span class="err">ID</span> <span class="err">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="nt">public</span> <span class="nt">string</span> <span class="nt">Nombre</span> <span class="p">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="nt">public</span> <span class="nt">string</span> <span class="nt">Apellido</span> <span class="p">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="nt">public</span> <span class="nt">string</span> <span class="nt">Email</span> <span class="p">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>

        <span class="o">//</span> <span class="nt">Navigation</span> <span class="nt">Properties</span>
        <span class="nt">public</span> <span class="nt">ICollection</span><span class="o">&lt;</span><span class="nt">Post</span><span class="o">&gt;</span> <span class="nt">Posts</span> <span class="p">{</span> <span class="err">get</span><span class="p">;</span> <span class="err">set</span><span class="p">;</span> <span class="p">}</span>
    <span class="err">}</span>
<span class="err">}</span>
</code></pre></div>

<h2>Agregar herramientas y paquetes NuGet necesarios</h2>
<p>Los siguientes comandos nos podran dar funcionalidad con SQLite y CodeGeneration.</p>
<div class="highlight"><pre><span></span><code><span class="p">&gt;</span> <span class="n">dotnet</span> <span class="n">tool</span> <span class="n">install</span> <span class="p">-</span><span class="n">-global</span> <span class="n">dotnet-ef</span>
<span class="p">&gt;</span> <span class="n">dotnet</span> <span class="n">tool</span> <span class="n">install</span> <span class="p">-</span><span class="n">-global</span> <span class="n">dotnet-aspnet-codegenerator</span>
<span class="p">&gt;</span> <span class="n">dotnet</span> <span class="n">add</span> <span class="n">package</span> <span class="n">Microsoft</span><span class="p">.</span><span class="n">EntityFrameworkCore</span><span class="p">.</span><span class="n">Design</span>
<span class="p">&gt;</span> <span class="n">dotnet</span> <span class="n">add</span> <span class="n">package</span> <span class="n">Microsoft</span><span class="p">.</span><span class="n">EntityFrameworkCore</span><span class="p">.</span><span class="n">SQLite</span>
<span class="p">&gt;</span> <span class="n">dotnet</span> <span class="n">add</span> <span class="n">package</span> <span class="n">Microsoft</span><span class="p">.</span><span class="n">VisualStudio</span><span class="p">.</span><span class="n">Web</span><span class="p">.</span><span class="n">CodeGeneration</span><span class="p">.</span><span class="n">Design</span>
<span class="p">&gt;</span> <span class="n">dotnet</span> <span class="n">add</span> <span class="n">package</span> <span class="n">Microsoft</span><span class="p">.</span><span class="n">EntityFrameworkCore</span><span class="p">.</span><span class="n">SqlServer</span>
<span class="p">&gt;</span> <span class="n">dotnet</span> <span class="n">add</span> <span class="n">package</span> <span class="n">Microsoft</span><span class="p">.</span><span class="n">EntityFrameworkCore</span><span class="p">.</span><span class="n">Tools</span>
</code></pre></div>

<h2>Generar codigo para controlador y vista</h2>
<p>Aplicaremos un scaffolding al modelo Post y actualizaremos los archivos creados.</p>
<div class="highlight"><pre><span></span><code><span class="p">&gt;</span> <span class="n">dotnet</span> <span class="n">aspnet-codegenerator</span> <span class="n">controller</span> <span class="n">-name</span> <span class="n">PostsController</span> <span class="n">-m</span> <span class="n">Post</span> <span class="n">-dc</span> <span class="n">BlogContext</span> <span class="p">-</span><span class="n">-relativeFolderPath</span> <span class="n">Controllers</span> <span class="n">-udl</span> <span class="p">-</span><span class="n">-referenceScriptLibraries</span> <span class="n">-sqlite</span>
</code></pre></div>

<p>Este comando creara el controlador del modelo Post en la carpeta <em>Controllers</em>, las vistas para Crear, Leer, Editar y Eliminar posts, los cuales encontraremos en <em>Views/Posts</em> y finalmente el adminitrador de sesion con la base de datos <strong>BlogContext</strong> en la carpeta <em>Data</em>. Asimismo, actualiza los archivos <em>Startup.cs</em> y <em>appsettings.json</em>.</p>
<h2>Actualizar estilo de paginas</h2>
<p>En este paso actualizaremos las plantillas para agregar navegacion hacia el modulo de Posts.</p>
<div class="highlight"><pre><span></span><code>Views/Shared/_Layout.cshtml
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;en&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width, initial-scale=1.0&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>@ViewData[&quot;Title&quot;] - MiAplicacionWeb<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;~/lib/bootstrap/dist/css/bootstrap.min.css&quot;</span> <span class="p">/&gt;</span>
    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;~/css/site.css&quot;</span> <span class="p">/&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-brand&quot;</span> <span class="na">asp-area</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">asp-controller</span><span class="o">=</span><span class="s">&quot;Home&quot;</span> <span class="na">asp-action</span><span class="o">=</span><span class="s">&quot;Index&quot;</span><span class="p">&gt;</span>MiAplicacionWeb<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-toggler&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">data-toggle</span><span class="o">=</span><span class="s">&quot;collapse&quot;</span> <span class="na">data-target</span><span class="o">=</span><span class="s">&quot;.navbar-collapse&quot;</span> <span class="na">aria-controls</span><span class="o">=</span><span class="s">&quot;navbarSupportedContent&quot;</span>
                        <span class="na">aria-expanded</span><span class="o">=</span><span class="s">&quot;false&quot;</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;Toggle navigation&quot;</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-toggler-icon&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-collapse collapse d-sm-inline-flex justify-content-between&quot;</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-nav flex-grow-1&quot;</span><span class="p">&gt;</span>
                        <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;nav-item&quot;</span><span class="p">&gt;</span>
                            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;nav-link text-dark&quot;</span> <span class="na">asp-area</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">asp-controller</span><span class="o">=</span><span class="s">&quot;Posts&quot;</span> <span class="na">asp-action</span><span class="o">=</span><span class="s">&quot;Index&quot;</span><span class="p">&gt;</span>Blog<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
                        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
                    <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">main</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;main&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;pb-3&quot;</span><span class="p">&gt;</span>
            @RenderBody()
        <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

    <span class="p">&lt;</span><span class="nt">footer</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;border-top footer text-muted&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
            <span class="ni">&amp;copy;</span> 2021 - MiAplicacionWeb - <span class="p">&lt;</span><span class="nt">a</span> <span class="na">asp-area</span><span class="o">=</span><span class="s">&quot;&quot;</span> <span class="na">asp-controller</span><span class="o">=</span><span class="s">&quot;Home&quot;</span> <span class="na">asp-action</span><span class="o">=</span><span class="s">&quot;Privacy&quot;</span><span class="p">&gt;</span>Privacy<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;~/lib/jquery/dist/jquery.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;~/lib/bootstrap/dist/js/bootstrap.bundle.min.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;~/js/site.js&quot;</span> <span class="na">asp-append-version</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    @await RenderSectionAsync(&quot;Scripts&quot;, required: false)
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>

<p>Lo que hemos hecho es eliminar los links de navegacion que se generaron y agregamos uno que nos lleve a nuestro blog.</p>
<p>Ahora debemos actualizar <em>BlogContext.cs</em> para agregar los otros modelos.</p>
<div class="highlight"><pre><span></span><code>using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using Microsoft.EntityFrameworkCore;
using MiAplicacionWeb.Models;

    public class BlogContext : DbContext
    {
        public BlogContext (DbContextOptions&lt;BlogContext&gt; options)
            : base(options)
        {
        }

        public DbSet&lt;MiAplicacionWeb.Models.Post&gt; Post { get; set; }
        public DbSet&lt;MiAplicacionWeb.Models.Comment&gt; Comment { get; set; }
        public DbSet&lt;MiAplicacionWeb.Models.User&gt; User { get; set; }
    }
</code></pre></div>

<h1>Migracion</h1>
<p>Una vez hecho esto, vamos a crear nuestra primera migracion. Las migraciones son una forma practica de manejar los
cambios que se realicen a lo largo del tiempo en la base de datos. Vamos a crear la primera migracion, la cual
creara la base y las tablas iniciales, de acuerdo a lo que hemos detallado en los modelos.</p>
<div class="highlight"><pre><span></span><code><span class="p">&gt;</span> <span class="n">dotnet</span> <span class="n">ef</span> <span class="n">migrations</span> <span class="n">add</span> <span class="n">InitialCreate</span>
<span class="p">&gt;</span> <span class="n">dotnet</span> <span class="n">ef</span> <span class="n">database</span> <span class="n">update</span>
</code></pre></div>

<p>Podemos ejecutar <a href="https://localhost:5001">nuestra aplicacion</a> para ver que todo vaya viento en popa, 
esto es que podemos acceder a la seccion Blog, la cual estara vacia al momento.</p>
<p>Hasta aqui hemos avanzado bastante, hemos visto la creacion de un nuevo proyecto MVC, 
hemos creado modelos de datos relacionados, hemos modificado las vistas y 
hemos creado migraciones, para mejor control de versiones de cambios en la estructura 
de las tablas de la base de datos.</p>
<p>En el siguiente post modificaremos la apariencia del listado de posts y haremos que se muestre 
la data relacionada en las vistas (como comentarios y datos del autor).</p>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
</body>
</html>